jQuery(document).ready(function($) {
    $.ajax({
        type: "POST",
        url: "/courses/load_electives",
        dataType: "html",
        success: function (result) {
          $('#electives').empty();
          $('#electives').html(result);
        },
        error: function () {
          alert('Something went wrong :(');
        }
    });

    // $('.toggle-elective').click(function(){
    //     alert('sdf');
    //     var id = $(this).attr('value');
    //     $('#' + id).show();
    // });

    $('#toggle-courses').click(function(){
      var major = $(this).text().split(' ')[0];
      if(major == "EE") {
          $('.CE-course').hide();
          $('.EE-course').show();
          $('#courses-header').text("Electrical Engineering Core Courses");
          $(this).text("CE Schedule");
      } else {
          $('.CE-course').show();
          $('.EE-course').hide();
          $('#courses-header').text("Computer Engineering Core Courses");
          $(this).text("EE Schedule");
      }
    });
});

function toggleElectiveContainer(data) {
    var toggler = $(data);
    var id = toggler.attr('value');
    if(toggler.text() == "+") {
        $('#' + id).show();
        toggler.text("-");
    }
    else {
        $('#' + id).hide();
        toggler.text("+");   
    }    
}

function loadDetailsPopup(data, isCourse) {
    $('#course-detail-modal').empty();
    var courseCode = $(data).attr('value');
    var url = isCourse == true ? "/courses/detail" : "/courses/detail_elective"
    if(courseCode.length != 0) {
        $.ajax({
          type: "POST",
          url: url,
          data: {'course_code': courseCode},
          dataType: "html",
          success: function (result) {
            $('#course-detail-modal').html(result);
          },
          error: function () {
            alert('Something went wrong :(');
          }
        });
    }

}