jQuery(document).ready(function($) {

    $.ajax({
        type: "POST",
        url: "/courses/load_electives",
        dataType: "html",
        success: function (result) {
          $('#electives').empty();
          $('#electives').html(result);
        },
        error: function () {
          alert('Something went wrong :(');
        }
    });

    $('.toggle-courses').click(function(){                  
      var major = $(this).text().split(' ')[0];                 
      if(major == "EE") {                   
          $('.CE-course').hide();                   
          $('.EE-course').show();                   
          $('#courses-header').text("Electrical Engineering Core Courses");                    
          $(this).text("CE Schedule");                  
      } else {                  
          $('.CE-course').show();                   
          $('.EE-course').hide();                   
          $('#courses-header').text("Computer Engineering Core Courses");                      
          $(this).text("EE Schedule");                  
      }                 
    });
});

function toggleElectiveContainer(data) {
    var toggler = $(data);
    var id = toggler.attr('value');
    if(toggler.text() == "+") {
        $('#' + id).show();
        toggler.text("-");
    }
    else {
        $('#' + id).hide();
        toggler.text("+");   
    }    
}

function loadDetailsPopup(data, isCourse) {
    $('#course-detail-modal').empty();
    var courseCode = $(data).attr('value');
    var url = isCourse == true ? "/courses/detail" : "/courses/detail_elective"
    if(courseCode.length != 0) {
        $.ajax({
          type: "POST",
          url: url,
          data: {'course_code': courseCode},
          dataType: "html",
          success: function (result) {
            $('#course-detail-modal').html(result);
          },
          error: function () {
            alert('Something went wrong :(');
          }
        });
    }

}
// =======
//   $('td').click(function(){
//   	var courseCode = $(this).text().trim();
//   	$.ajax({
//   		type: "POST",
//   		url: "/courses/detail",
//   		data: {'course_code': courseCode},
//   		dataType: "html",
//   		success: function (result) {
//   			$('#course-detail-modal').empty();
//   			$('#course-detail-modal').html(result);
//   		},
//   		error: function () {
//   			alert('Something went wrong :(');
//   		}
//   	});
//   });

//   $('.toggle-courses').click(function(){
//     var major = $(this).text().split(' ')[0];
//     if(major == "EE") {
//       $('.CE-course').hide();
//       $('.EE-course').show();
//       $(this).text("CE Schedule");
//     } else {
//       $('.CE-course').show();
//       $('.EE-course').hide();
//       $(this).text("EE Schedule");
//     }
//     $('.title').html(major + ' - CORE COURSES');
//   });
// });
// >>>>>>> f46ac5a23683e8e31e9eb9e5fca5eb3001c01ca7
